/**
 * Map constructor hook - injected at document_start to capture map instances.
 * This script runs in the page context and intercepts Mapbox/MapLibre constructors.
 */
export declare const mapHookScript = "\n(function() {\n  const log = (msg) => console.log('[WebMap Archiver Hook] ' + msg);\n\n  log('Installing map constructor hooks...');\n\n  // Hook Mapbox GL JS constructor\n  if (window.mapboxgl && window.mapboxgl.Map) {\n    const OriginalMap = window.mapboxgl.Map;\n    window.mapboxgl.Map = function(...args) {\n      const instance = new OriginalMap(...args);\n      log('Captured Mapbox GL JS map instance');\n      window.__webmapArchiverMapInstance = instance;\n      return instance;\n    };\n    // Preserve prototype and static properties\n    window.mapboxgl.Map.prototype = OriginalMap.prototype;\n    Object.setPrototypeOf(window.mapboxgl.Map, OriginalMap);\n    log('Mapbox GL JS constructor hooked');\n  }\n\n  // Hook MapLibre GL JS constructor\n  if (window.maplibregl && window.maplibregl.Map) {\n    const OriginalMap = window.maplibregl.Map;\n    window.maplibregl.Map = function(...args) {\n      const instance = new OriginalMap(...args);\n      log('Captured MapLibre GL JS map instance');\n      window.__webmapArchiverMapInstance = instance;\n      return instance;\n    };\n    window.maplibregl.Map.prototype = OriginalMap.prototype;\n    Object.setPrototypeOf(window.maplibregl.Map, OriginalMap);\n    log('MapLibre GL JS constructor hooked');\n  }\n\n  // If libraries haven't loaded yet, watch for them\n  if (!window.mapboxgl && !window.maplibregl) {\n    log('Libraries not loaded yet, watching for them...');\n\n    const checkInterval = setInterval(() => {\n      if (window.mapboxgl && window.mapboxgl.Map && !window.mapboxgl.Map.__hooked) {\n        const OriginalMap = window.mapboxgl.Map;\n        window.mapboxgl.Map = function(...args) {\n          const instance = new OriginalMap(...args);\n          log('Captured Mapbox GL JS map instance (delayed)');\n          window.__webmapArchiverMapInstance = instance;\n          return instance;\n        };\n        window.mapboxgl.Map.prototype = OriginalMap.prototype;\n        Object.setPrototypeOf(window.mapboxgl.Map, OriginalMap);\n        window.mapboxgl.Map.__hooked = true;\n        log('Mapbox GL JS constructor hooked (delayed)');\n        clearInterval(checkInterval);\n      }\n\n      if (window.maplibregl && window.maplibregl.Map && !window.maplibregl.Map.__hooked) {\n        const OriginalMap = window.maplibregl.Map;\n        window.maplibregl.Map = function(...args) {\n          const instance = new OriginalMap(...args);\n          log('Captured MapLibre GL JS map instance (delayed)');\n          window.__webmapArchiverMapInstance = instance;\n          return instance;\n        };\n        window.maplibregl.Map.prototype = OriginalMap.prototype;\n        Object.setPrototypeOf(window.maplibregl.Map, OriginalMap);\n        window.maplibregl.Map.__hooked = true;\n        log('MapLibre GL JS constructor hooked (delayed)');\n        clearInterval(checkInterval);\n      }\n    }, 50);\n\n    // Stop checking after 5 seconds\n    setTimeout(() => clearInterval(checkInterval), 5000);\n  }\n})();\n";
//# sourceMappingURL=map-hook.d.ts.map